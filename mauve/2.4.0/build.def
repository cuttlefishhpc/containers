Bootstrap: localimage
From: raw.sif

%labels
    Author "Andrew S. Tupper, PhD"
    Version "1.0"
    Description "Container for running mauve 2.4.0"
    Maintainer "Andrew S. Tupper <tuppera@uncw.edu>"
    License "MIT"

%post
    set -e

    echo "Creating HPC mount points"
    mkdir -p /storage /scratch
    
%runscript
    if [ $# -eq 0 ]; then
        echo "Usage: mauve@2.4.0 <command>"
        echo "Commands:"
        commands=$(ls /usr/local/bin/ | grep "^mauve" | sort)
        for command in $commands; do
            echo "  $(basename "$command")"
        done
        commands=$(ls /usr/local/bin/ | grep "..*Mauve" | sort)
        for command in $commands; do
            echo "  $(basename "$command")"
        done
    else
        exec "$@"
    fi
